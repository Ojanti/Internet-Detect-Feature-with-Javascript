<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title> JS Internet Detect Feature</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="manifest" href="site.webmanifest">
        <link rel="apple-touch-icon" href="http://ojanti.com/assets/img/icon_/favicon.png">
        <link rel="shortcut icon" href="http://ojanti.com/assets/img/icon_/favicon.png">
        <link href="https://s3.eu-west-2.amazonaws.com/ojanticdnbucket/_shadesSCSS/cdn/boilerplate.min.css" rel="stylesheet">

        <style>
            .rawNotificationArea {
                position: fixed;
                top: 2px;
                left: 0;
                width: 100%;
                text-align: center;
                padding: 10px 0;
                display: none;
                z-index: 99999999;
            }

            .rawNotificationArea .notification_message {
                max-width: 50%;
                border: solid thin #888888;
                color: #333;
                background-color: #DCDCDC;
                text-align: center;
                padding: 5px 15px;
                border-radius: 4px;
                box-shadow: 2px 3px 20px rgba(0, 0, 0, 0.17);
                display: inline-block;
                text-align: center;
                font-size: 14px;
                letter-spacing: 1px;
            }

            .rawNotificationArea .notification_message.warning {
                background-color: #fcf8e3;
                border-color: #faf2cc;
                color: #8a6d3b;
            }

            .rawNotificationArea .notification_message.success {
                background-color: #dff0d8;
                border-color: #d0e9c6;
                color: #3c763d;
            }

            .rawNotificationArea .notification_message.info {
                background-color: #d9edf7;
                border-color: #bcdff1;
                color: #31708f;
            }

            .rawNotificationArea .notification_message.danger, .rawNotificationArea .notification_message.error {
                background-color: #f2dede;
                border-color: #ebcccc;
                color: #a94442;
            }
        </style>

        <script type="text/javascript">

            // Notification
            var nativeNotification = {
                // fadeEl: document.getElementById('content_body'),
                fadeEl:  function () {
                    return (document.getElementById('content_body'));
                },
                // messageHolder: document.getElementById('rawNotificationArea'),
                messageHolder:  function () {
                    return (document.getElementById('rawNotificationArea'));
                },
                contentFade: function() {
                    this.fadeEl().style.opacity = "0.5";
                },
                contentUnfade: function() {
                    this.fadeEl().style.opacity = "1.0";
                },
                notify: function(message, tone) {
                    this.messageHolder().innerHTML = '<span class="notification_message ' + tone + '">' + message + '</span>';
                    this.messageHolder().style.display = "block";
                },
                unotify: function() {
                    while (this.messageHolder().firstChild) {
                        this.messageHolder().removeChild(this.messageHolder().firstChild);
                    }
                },
                timedUnotify: function(time) {
                    setTimeout(function() {
                        nativeNotification.unotify();
                    }, time);
                }
            };

            //Detect internet status amd motify user
            var wasInternetConnectionBad = '';
            var internetCheckActions = function() {
                var xhr = new XMLHttpRequest();
                var file = "https://s3.eu-west-2.amazonaws.com/ojanticdnbucket/staticassets/rch8muQ.jpg"; 
                var randomNum = Math.round(Math.random() * 10000);

                xhr.open('HEAD', file + "?rand=" + randomNum, true);
                xhr.withCredentials = false;
                xhr.send();

                xhr.addEventListener("readystatechange", processRequest, false);

                function processRequest(e) {
                    if (xhr.readyState == 4) {
                        if (xhr.status >= 200 && xhr.status < 304) {
                            if (wasInternetConnectionBad == "1") {
                                nativeNotification.contentUnfade();
                                nativeNotification.notify("Your internet connection has been restored", 'info');
                                nativeNotification.timedUnotify(5000);
                            }
                            wasInternetConnectionBad = '';
                        } else {
                            nativeNotification.contentFade();
                            nativeNotification.notify("We've detected a problem with your internet connection.\n Some functions may not work as expected<div><strong>Retrying <img src='https://cdnjs.cloudflare.com/ajax/libs/slippry/1.4.0/images/sy-loader.gif' width='20' height='20'></strong></div>", 'warning');
                            wasInternetConnectionBad = '1';
                        }
                    }
                }
            }

            // Invoke when DOM content has loaded
            document.addEventListener('DOMContentLoaded', function () {
                internetCheckActions();
            });

            //& every subsequent 5 seconds
            var checkInternetConnection = function() {
                setInterval(function () {
                    internetCheckActions();
                }, 5000);
            }
            checkInternetConnection();
        </script>
    </head>
    <body style="background:#f6f6f6;">
        <!--[if lte IE 9]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
        <![endif]-->
        

        <!-- start - motification markup -->
        <img src="https://cdnjs.cloudflare.com/ajax/libs/slippry/1.4.0/images/sy-loader.gif" width="1" height="1"
             style="position:absolute; z-index:-2;">
             <!-- Attepmting to preload an animated loader image which will be used later. NOTE, different browser behave differently  -->
        <div class="rawNotificationArea" id="rawNotificationArea">
            <div class="notification_message"></div>
        </div>
        <!-- end  - motification markup -->


        <!-- start - content wrapper -->
        <div id="content_body">
            <header id="header" >
                <div class="row">
                    <div class="container">          
                        <div class="row">
                            <div class="col s12 m12 l12 padding-top-50 padding-bottom-30 padding-right-20 padding-left-20">
                                <div class="margin-top-10 margin-bottom-10 text-center">                            
                                    <h1>Javascript Internet Detect Feature Demo </h1>        
                                    <h4 class="text-primary margin-top-5 margin-bottom-5">Turn off your internet to see how it works</h4>
                                    <div>                                    
                                        <small> Show some <span style="color:#FF3E3E;">‚ù§</span> </small> 
                                    </div>
                                    <div class="margin-bottom-20 margin-top-10">
                                        <a class="github-button" href="https://github.com/small" aria-label="Follow @ojanti on GitHub" data-size="large">Follow @ojanti</a>
                                        <!-- <a class="github-button" href="https://github.com/ojanti/_ShadesSCSS" data-icon="octicon-star" data-size="large" aria-label="Star ojanti/_ShadesSCSS on GitHub">Star ShadesSCSS</a> -->
                                        <a href="https://twitter.com/ojanti?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-size="large" data-show-count="false">Follow @ojanti</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
                                    </div>

                                    <a href="http://ojanti.com/blog/Build-a-lightweight-Internet-Detect-Feature-with-VanilaJS" class="button large" target="_blank"> Visit Tutorial Page </a>
                                </div>
                            </div>
                        </div>
                    </div> 
                </div>
            </header><!-- /header -->
            <section>
                <div class="row">
                    <div class="container">                    
                        <!-- start - dummy content -->
                        <div class="row text-justify">
                            <div class="col s12 m6 l6">
                                <h3>One morning, when Gregor Samsa woke from troubleddreams.</h3>
                                <p>One morning, when Gregor Samsa woke from troubled dreams, he found himself transformed in his bed into a horrible vermin. He lay on his armour-like back, and if he lifted his head a little he could see his brown belly, slightly domed and divided by arches into stiff sections. The bedding was hardly able to cover <strong>strong</strong> it and seemed ready to slide off any moment. His many legs, pitifully thin compared with the size of the rest of him, <a class="external ext" href="#">link</a> waved about helplessly as he looked. "What's happened to me? " he thought. It wasn't a dream. His room, a proper human room although a little too small, lay peacefully between its four familiar walls.</p>
                                <h4>One morning, when Gregor Samsa woke from troubled dreams. </h4>
                                <h3>The bedding was hardly able to cover it.</h3>
                                <p>It showed a lady fitted out with a fur hat and fur boa who sat upright, raising a heavy fur muff that covered the whole of her lower arm towards the viewer. </p>
                                <h3>The bedding was hardly able to cover it.</h3>
                                <p>It showed a lady fitted out with a fur hat and fur boa who sat upright, raising a heavy fur muff that covered the whole of her lower arm towards the viewer. </p>
                                <ul>
                                    <li>Lorem ipsum dolor sit amet consectetuer.</li>
                                    <li>Aenean commodo ligula eget dolor.</li>
                                    <li>Aenean massa cum sociis natoque penatibus.</li>
                                </ul>
                                <p>It showed a lady fitted out with a fur hat and fur boa who sat upright, raising a heavy fur muff that covered the whole of her lower arm towards the viewer. </p>
                                <form action="#" method="post">
                                    <fieldset> <label for="name">Name:</label> <input type="text" id="name" placeholder="Enter your full name" /> <label for="email">Email:</label> <input type="email" id="email" placeholder="Enter your email address" /> <label for="message">Message:</label> <textarea id="message" placeholder="What's on your mind?"></textarea> <input type="submit" value="Send message" /> </fieldset>
                                </form>
                                <p>It showed a lady fitted out with a fur hat and fur boa who sat upright, raising a heavy fur muff that covered the whole of her lower arm towards the viewer. </p>
                                <table class="data">
                                    <tr>
                                        <th>Entry Header 1</th>
                                        <th>Entry Header 2</th>
                                        <th>Entry Header 3</th>
                                        <th>Entry Header 4</th>
                                    </tr>
                                    <tr>
                                        <td>Entry First Line 1</td>
                                        <td>Entry First Line 2</td>
                                        <td>Entry First Line 3</td>
                                        <td>Entry First Line 4</td>
                                    </tr>
                                    <tr>
                                        <td>Entry Line 1</td>
                                        <td>Entry Line 2</td>
                                        <td>Entry Line 3</td>
                                        <td>Entry Line 4</td>
                                    </tr>
                                    <tr>
                                        <td>Entry Last Line 1</td>
                                        <td>Entry Last Line 2</td>
                                        <td>Entry Last Line 3</td>
                                        <td>Entry Last Line 4</td>
                                    </tr>
                                </table>
                                <p>It showed a lady fitted out with a fur hat and fur boa who sat upright, raising a heavy fur muff that covered the whole of her lower arm towards the viewer. </p>
                            </div>
                            <div class="col s12 m6 l6">
                                <h3>Lorem ipsum dolor sit amet consectetuer adipiscing elit</h3>
                                <p>Lorem ipsum dolor sit amet, <a href="#" title="test link">test link</a> adipiscing elit. Nullam dignissim convallis est. Quisque aliquam. Donec faucibus. Nunc iaculis suscipit dui. Nam sit amet sem. Aliquam libero nisi, imperdiet at, tincidunt nec, gravida vehicula, nisl. Praesent mattis, massa quis luctus fermentum, turpis mi volutpat justo, eu volutpat enim diam eget metus. Maecenas ornare tortor. Donec sed tellus eget sapien fringilla nonummy. Mauris a ante. Suspendisse quam sem, consequat at, commodo vitae, feugiat in, nunc. Morbi imperdiet augue quis tellus.</p>
                                <p>Lorem ipsum dolor sit amet, <em>emphasis</em> consectetuer adipiscing elit. Nullam dignissim convallis est. Quisque aliquam. Donec faucibus. Nunc iaculis suscipit dui. Nam sit amet sem. Aliquam libero nisi, imperdiet at, tincidunt nec, gravida vehicula, nisl. Praesent mattis, massa quis luctus fermentum, turpis mi volutpat justo, eu volutpat enim diam eget metus. Maecenas ornare tortor. Donec sed tellus eget sapien fringilla nonummy. Mauris a ante. Suspendisse quam sem, consequat at, commodo vitae, feugiat in, nunc. Morbi imperdiet augue quis tellus.</p>
                                <hr/>
                                <h4 id="form_elements">Fieldsets, Legends, and Form Elements</h4>
                                <fieldset>
                                    <legend>Legend</legend>
                                    <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nullam dignissim convallis est. Quisque aliquam. Donec faucibus. Nunc iaculis suscipit dui. Nam sit amet sem. Aliquam libero nisi, imperdiet at, tincidunt nec, gravida vehicula, nisl. Praesent mattis, massa quis luctus fermentum, turpis mi volutpat justo, eu volutpat enim diam eget metus.</p>
                                    <form method="post" action="#">
                                        <h4>Form Element</h4>
                                        <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nullam dignissim convallis est. Quisque aliquam. Donec faucibus. Nunc iaculis suscipit dui.</p>
                                        <p><label for="text_field">Text Field:</label><br/> <input type="text" id="text_field" name="text_field" /></p>
                                        <p> <button>Submit</button> <button type="reset">Clear</button> </p>
                                    </form>
                                </fieldset>
                                <hr/>
                                <h3 id="tables">Tables</h3>
                                <table>
                                    <caption>Table Caption Goes Here</caption>
                                    <thead>
                                        <tr>
                                            <th>Table Header 1</th>
                                            <th>Table Header 2</th>
                                            <th>Table Header 3</th>
                                        </tr>
                                    </thead>
                                    <tfoot>
                                        <tr>
                                            <th>Footer 1</th>
                                            <th>Footer 2</th>
                                            <th>Footer 3</th>
                                        </tr>
                                    </tfoot>
                                    <tbody>
                                        <tr>
                                            <td>Division 1</td>
                                            <td>Division 2</td>
                                            <td>Division 3</td>
                                        </tr>
                                        <tr class="even">
                                            <td>Division 1</td>
                                            <td>Division 2</td>
                                            <td>Division 3</td>
                                        </tr>
                                        <tr>
                                            <td>Division 1</td>
                                            <td>Division 2</td>
                                            <td>Division 3</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>                 
                        <!-- end - dummy content -->
                    </div>
                </div>
            </section>
            <footer class="margin-top-10 padding-10 text-center">
                <hr>
                <p class="no-margin">
                    Built with <a href="https://github.com/Ojanti/_ShadesSCSS" class="" target="_blank"> ShadesSCSS </a>
                    by
                    <a href="http://ojanti.com/aboutme" target="_blank" title="ShadesSCSS & Internet Detect Features Created by John Itebu"> John Itebu </a>
                </p>
            </footer>
        </div>
        <!-- emd - content wrapper -->
        <script async defer src="https://buttons.github.io/buttons.js"></script>
    </body>
</html>
